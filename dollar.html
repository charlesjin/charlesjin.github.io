<!DOCTYPE html>
<html lang="en">
<script src="assets/js/jquery-1.6.3.min.js"></script>

<head>
  <meta charset="utf-8">
  <title>Dollar</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="Charles Jin">
  <link href="assets/css/main.css" rel="stylesheet">
  <link href="assets/css/dollar.css" rel="stylesheet">
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-51518337-1', 'charlesjin.com');
    ga('send', 'pageview');

  </script>
</head>

<body>

<div>

	<div class="text">
		<h1> anatomy of a record. </h1>
	</div>
	
	<div>
		<div class="box"><div class="scroll"></div></div>
		<img id="dollar0" class="dollar-image" src="assets/img/dollarfront.jpg">
		<img id="dollar1" class="dollar-image" src="assets/img/dollar2.png">
		<img id="dollar2" class="dollar-image" src="assets/img/dollar3.png">
		<img id="dollar3" class="dollar-image" src="assets/img/dollar4.png">
		<img id="dollar4" class="dollar-image" src="assets/img/dollar5.png">
		<img id="dollar5" class="dollar-image" src="assets/img/dollar6.png">
		<img id="dollar6" class="dollar-image" src="assets/img/dollar7.png">
		<img id="dollar7" class="dollar-image" src="assets/img/dollar8.png">
		<img id="dollar8" class="dollar-image" src="assets/img/dollar9.png">
		<img id="dollar9" class="dollar-image" src="assets/img/dollar10.png">
		<img id="dollar10" class="dollar-image" src="assets/img/dollarfront.jpg">
	</div>

	<div class="text-wrapper">
		<div class="text" id="text-main"></div>
		<div class="text" id="text-desc"></div>
		<div class="text" id="text-test"></div>
	</div>

	<div class="text margin">
		source: <a href="http://www.rollingstone.com/music/news/wal-mart-wants-10-cds-20041012"> Rolling Stone Magazine </a>
	</div>

</div>

<script>

var lastpos = 0;

$(document).ready(function() {
  set_text();
  $(window).resize(set_text);
});

$( ".box" ).scroll(function() {
	set_text();
});

function set_text(){
	body_sizer();
	var height = $(window).height();
	var position = $( ".box" ).scrollTop() / ( height*29 );

	var scroll = 0;
	var place = 0;
	var opacity = 1;

	if (lastpos <= position) {
		if (position > .96) {
			$( "#dollar8" ).hide().css({ top: height });
		}
		if (position > .86) {
			$( "#dollar7" ).hide().css({ top: height });
		}
		if (position > .76) {
			$( "#dollar6" ).hide().css({ top: height });
		}
		if (position > .66) {
			$( "#dollar5" ).hide().css({ top: height });
		}
		if (position > .56) {
			$( "#dollar4" ).hide().css({ top: height });
		}
		if (position > .46) {
			$( "#dollar3" ).hide().css({ top: height });
		}
		if (position > .36) {
			$( "#dollar2" ).hide().css({ top: height });
		}
		if (position > .26) {
			$( "#dollar1" ).hide().css({ top: height });
		}
		if (position > .16) {
			$( "#dollar0" ).hide().css({ top: height });
		}
	} else {
		if (position < .05) {
			$( "#dollar1" ).hide().css({ top: -369 });
		};
		if (position < .14) {
			$( "#dollar2" ).hide().css({ top: -369 });
		}
		if (position < .24) {
			$( "#dollar3" ).hide().css({ top: -369 });
		}
		if (position < .34) {
			$( "#dollar4" ).hide().css({ top: -369 });
		}
		if (position < .44) {
			$( "#dollar5" ).hide().css({ top: -369 });
		}
		if (position < .54) {
			$( "#dollar6" ).hide().css({ top: -369 });
		} 
		if (position < .64) {
			$( "#dollar7" ).hide().css({ top: -369 });
		}
		if (position < .74) {
			$( "#dollar8" ).hide().css({ top: -369 });
		}
		if (position < .84) {
			$( "#dollar9" ).hide().css({ top: -369 });
		}
		if (position < .94) {
			$( "#dollar10" ).hide().css({ top: -369 });
		}
	}

	if (position <= 1 && position > .94) {
		place = 200 - Math.pow(((1 - position) * 17),3) * 569;
		$( "#dollar10" ).show().css({ top: place, opacity: Math.max((.99-position)*20,.2) , "z-index": 1 });
	} else if (position <= .9 && position > .84) {
		place = 200 - Math.pow(((.9 - position) * 17),3) * 569;
		$( "#dollar9" ).show().css({ top: place , opacity: 1 , "z-index": 2});
	} else if (position <= .8 && position > .74) {
		place = 200 - Math.pow(((.8 - position) * 17),3) * 569;
		$( "#dollar8" ).show().css({ top: place , opacity: 1 , "z-index": 2});
	} else if (position <= .7 && position > .64) {
		place = 200 - Math.pow(((.7 - position) * 17),3) * 569;
		$( "#dollar7" ).show().css({ top: place , opacity: 1 , "z-index": 2});
	} else if (position <= .6 && position > .54) {
		place = 200 - Math.pow(((.6 - position) * 17),3) * 569;
		$( "#dollar6" ).show().css({ top: place , opacity: 1 , "z-index": 2});
	} else if (position <= .5 && position > .44) {
		place = 200 - Math.pow(((.5 - position) * 17),3) * 569;
		$( "#dollar5" ).show().css({ top: place , opacity: 1 , "z-index": 2});
	} else if (position <= .4 && position > .34) {
		place = 200 - Math.pow(((.4 - position) * 17),3) * 569;
		$( "#dollar4" ).show().css({ top: place , opacity: 1 , "z-index": 2});
	} else if (position <= .3 && position > .24) {
		place = 200 - Math.pow(((.3 - position) * 17),3) * 569;
		$( "#dollar3" ).show().css({ top: place , opacity: 1 , "z-index": 2});
	} else if (position <= .2 && position > .14) {
		place = 200 - Math.pow(((.2 - position) * 17),3) * 569;
		$( "#dollar2" ).show().css({ top: place , opacity: 1 , "z-index": 2});
	} else if (position <= .1 && position > .04) {
		place = 200 - Math.pow(((.1 - position) * 17),3) * 569;
		$( "#dollar1" ).show().css({ top: place , opacity: 1 , "z-index": 2});
	}

	if (position >= .9 && position < .96) {
		place = 200 - Math.pow(((.9 - position) * 17),3) * (height - 100);
		opacity = (1 - position) * 10;
		$( "#dollar8" ).show().css({ top: place , "opacity": opacity - .6 , "z-index": 2});
	} else if (position >= .8 && position < .86) {
		place = 200 - Math.pow(((.8 - position) * 17),3) * (height - 100);
		opacity = (.9 - position) * 10;
		$( "#dollar7" ).show().css({ top: place , "opacity": opacity - .6 , "z-index": 2});
		$( "#dollar8" ).css({ "opacity": opacity });
	} else if (position >= .7 && position < .76) {
		place = 200 - Math.pow(((.7 - position) * 17),3) * (height - 100);
		opacity = (.8 - position) * 10;
		$( "#dollar6" ).show().css({ top: place , "opacity": opacity - .6 , "z-index": 2});
		$( "#dollar7" ).css({ "opacity": opacity});
	} else if (position >= .6 && position < .66) {
		place = 200 - Math.pow(((.6 - position) * 17),3) * (height - 100);
		opacity = (.7 - position) * 10;
		$( "#dollar5" ).show().css({ top: place , "opacity": opacity - .6 , "z-index": 2});
		$( "#dollar6" ).css({ "opacity": opacity});
	} else if (position >= .5 && position < .56) {
		place = 200 - Math.pow(((.5 - position) * 17),3) * (height - 100);
		opacity = (.6 - position) * 10;
		$( "#dollar4" ).show().css({ top: place , "opacity": opacity - .6 , "z-index": 2});
		$( "#dollar5" ).css({ "opacity": opacity});
	} else if (position >= .4 && position < .46) {
		place = 200 - Math.pow(((.4 - position) * 17),3) * (height - 100);
		opacity = (.5 - position) * 10;
		$( "#dollar3" ).show().css({ top: place , "opacity": opacity - .6 , "z-index": 2});
		$( "#dollar4" ).css({ "opacity": opacity});
	} else if (position >= .3 && position < .36) {
		place = 200 - Math.pow(((.3 - position) * 17),3) * (height - 100);
		opacity = (.4 - position) * 10;
		$( "#dollar2" ).show().css({ top: place , "opacity": opacity - .6 , "z-index": 2});
		$( "#dollar3" ).css({ "opacity": opacity});
	} else if (position >= .2 && position < .26) {
		place = 200 - Math.pow(((.2 - position) * 17),3) * (height - 100);
		opacity = (.3 - position) * 10;
		$( "#dollar1" ).show().css({ top: place , "opacity": opacity - .6 , "z-index": 2});
		$( "#dollar2" ).css({ "opacity": opacity});
	} else if (position >= .1 && position < .16) {
		place = 200 - Math.pow(((.1 - position) * 17),3) * (height - 100);
		opacity = (.2 - position) * 10;
		$( "#dollar0" ).show().css({ top: place , "opacity": opacity - .6 , "z-index": 2});
		$( "#dollar1" ).css({ "opacity": opacity});
	} else if (position < .05) {
		$( "#dollar0" ).css({ opacity: (.1 - position) * 10 });
	}

	lastpos = position;

	if (position > .95){
		var string1 = "Now for the profits...";
		var string2 = "...leaving the artists with <span style=\"color:black;font-weight:bold\">$10</span> on a CD that sold <span style=\"color:black;font-weight:bold\">$100</span> - to split amongst all the bandmembers."
		var opacity1 = 1;
		var opacity2 = Math.pow(((position - .95) * 40),2);
	} else if (position > .85) {
		var string1 = "Now for the profits...";
		var string2 = "...the record labels take a whopping <span style=\"color:black;font-weight:bold\">$10.63</span>..."
		var opacity1 = 1;
		var opacity2 = Math.pow(((.05 - Math.abs(position - .90)) * 40),2);
	} else if (position > .75) {
		var string1 = "Now for the profits...";
		var string2 = "Retail stores take their share: <span style=\"color:black;font-weight:bold\">$5</span>...";
		var opacity1 = Math.pow(((.05 - Math.abs(position - .80)) * 40),2);
		var opacity2 = opacity1;
		if (position > .8) {
			opacity1 = 1;
		}
	} else if (position > .65) {
		var string1 = "The musicians' unions earn $1.06";
		var string2 = "";
		var opacity1 = Math.pow(((.05 - Math.abs(position - .70)) * 40),2);
		var opacity2 = 0;
	} else if (position > .55) {
		var string1 = "Packaging and manufacturing take $5.00";
		var string2 = "This includes the costs of printing the cover art and burning the actual CDs.";
		var opacity1 = Math.pow(((.05 - Math.abs(position - .60)) * 40),2);
		var opacity2 = opacity1;
	} else if (position > .45) {
		var string1 = "The publishing royalties amount to $5.12";
		var string2 = "Many bands employ ghost-writers.";
		var opacity1 = Math.pow(((.05 - Math.abs(position - .50)) * 40),2);
		var opacity2 = opacity1;
	} else if (position > .35) {
		var string1 = "Distribution costs $5.62";
		var string2 = "This means shipping the records to physical retail locations where they will be sold.";
		var opacity1 = Math.pow(((.05 - Math.abs(position - .40)) * 40),2);
		var opacity2 = opacity1;
	} else if (position > .25) {
		var string1 = "Marketing and promoting the album costs $15.01";
		var string2 = "";
		var opacity1 = Math.pow(((.05 - Math.abs(position - .30)) * 40),2);
		var opacity2 = 0;
	} else if (position > .15) {
		var string1 = "A close second is the overhead of the record label: $18.19";
		var string2 = "";
		var opacity1 = Math.pow(((.05 - Math.abs(position - .20)) * 40),2);
		var opacity2 = 0;
	} else if (position > .05) {
		var string1 = "By far the largest cost is retail overhead, at $24.33";
		var string2 = "This is the amount a retailer spends per $100 to pay its employees, plus storage the records, etc.";
		var opacity1 = Math.pow(((.05 - Math.abs(position - .10)) * 40),2);
		var opacity2 = opacity1;
	} else {
		var string1 = "Assuming a particular CD sells for $100...";
		var string2 = "...let's see how much the artist actually makes.";
		var opacity1 = Math.pow(((.05 - position) * 40),2);
		var opacity2 = opacity1;
	}

	$("#text-main").html(string1).css({ opacity: opacity1 });
	$("#text-desc").html(string2).css({ opacity: opacity2 });
};

function body_sizer() {
  var height = $(window).height() * 30;
  $(".scroll").height(height);
};

</script>
</body>
</html>